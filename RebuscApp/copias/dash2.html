<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio - RebuscApp Trabajador</title>
    <!-- Estilos CSS de Tailwind -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../styles/dash.css">
    <style>
        .hover-bg-green {
            transition: background-color 0.3s ease-in-out;
        }

        .hover-bg-green:hover {
            background-color: #ebffec;
        }

        .hover-text-green:hover {
            color: #33ff44;
        }

        .aside-transition {
            transition: transform 0.3s ease-in-out;
        }

        .btn-modern {
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease-in-out;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .btn-modern i {
            margin-right: 0.25rem;
        }

        .btn-accept {
            background-color: #4caf50;
            color: white;
        }

        .btn-accept:hover {
            background-color: #45a049;
        }

        .btn-counteroffer {
            background-color: #ff9800;
            color: white;
        }

        .btn-counteroffer:hover {
            background-color: #e68900;
        }
    </style>
</head>

<body class="bg-gray-100">

    <!-- Barra lateral -->
    <aside class="bg-white w-64 px-8 py-6 shadow fixed left-0 top-0 h-full transform -translate-x-full aside-transition">
        <div class="flex justify-between items-center mb-8">
            <!-- Nombre de la aplicación -->
            <h1 class="text-2xl font-bold text-gray-800">RebuscApp</h1>
            <!-- Icono para cerrar el aside -->
            <div class="cursor-pointer text-gray-600 hover:text-gray-800" id="closeSidebarBtn">
                <i class="fas fa-times"></i>
            </div>
        </div>
        <ul class="space-y-4">
            <li>
                <a href="#" class="flex items-center text-gray-700 hover-text-green hover-bg-green px-4 py-2 rounded-md">
                    <i class="fas fa-home mr-2"></i>
                    Inicio
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center text-gray-700 hover-text-green hover-bg-green px-4 py-2 rounded-md">
                    <i class="fas fa-briefcase mr-2"></i>
                    Solicitudes
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center text-gray-700 hover-text-green hover-bg-green px-4 py-2 rounded-md">
                    <i class="fas fa-comments mr-2"></i>
                    Mensajes
                </a>
            </li>
            <li>
                <a href="#" class="flex items-center text-gray-700 hover-text-green hover-bg-green px-4 py-2 rounded-md">
                    <i class="fas fa-user mr-2"></i>
                    Perfil
                </a>
            </li>
            <li>
                <a href="#" id="logout" class="flex items-center text-gray-700 hover-text-green hover-bg-green px-4 py-2 rounded-md">
                    <i class="fas fa-sign-out-alt mr-2"></i>
                    Cerrar sesión
                </a>
            </li>
        </ul>
    </aside>

    <!-- Botón para abrir el aside -->
    <div id="openSidebarBtn" class="fixed top-8 left-8 z-10">
        <div class="cursor-pointer text-gray-600 hover:text-gray-800">
            <i class="fas fa-bars text-4xl"></i>
        </div>
    </div>

    <!-- Contenido principal -->
    <main class="ml-0 sm:ml-64 p-10 transition-all duration-300 ease-in-out">
        <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow">
            <h1 class="text-3xl font-bold text-gray-800 mb-4">RebuscApp Trabajador</h1>
            <p class="text-gray-600 mb-8">Aquí puedes ver y aceptar solicitudes de servicio.</p>

            <!-- Lista de solicitudes recibidas -->
            <div class="space-y-4">
                <h2 class="text-xl font-bold mb-4">Solicitudes Recibidas</h2>

                <!-- Solicitud 1 -->
                <div class="p-4 bg-gray-100 rounded-md shadow-sm flex justify-between items-center hover:bg-gray-200">
                    <div>
                        <h3 class="text-lg font-bold">Limpieza de casa</h3>
                        <p class="text-gray-600">Descripción: Necesito limpieza completa de una casa de 3 habitaciones.</p>
                        <p class="text-gray-600">Monto: $50.000</p>
                    </div>
                    <div class="flex space-x-2">
                        <button class="btn-modern btn-accept">
                            <i class="fas fa-check"></i> Aceptar
                        </button>
                        <button class="btn-modern btn-counteroffer" onclick="handleCounterOffer('Limpieza de casa')">
                            <i class="fas fa-exchange-alt"></i> Contraoferta
                        </button>
                    </div>
                </div>

                <!-- Solicitud 2 -->
                <div class="p-4 bg-gray-100 rounded-md shadow-sm flex justify-between items-center hover:bg-gray-200">
                    <div>
                        <h3 class="text-lg font-bold">Jardinería</h3>
                        <p class="text-gray-600">Descripción: Corte y mantenimiento de césped en jardín trasero.</p>
                        <p class="text-gray-600">Monto: $30.000</p>
                    </div>
                    <div class="flex space-x-2">
                        <button class="btn-modern btn-accept">
                            <i class="fas fa-check"></i> Aceptar
                        </button>
                        <button class="btn-modern btn-counteroffer" onclick="handleCounterOffer('Jardinería')">
                            <i class="fas fa-exchange-alt"></i> Contraoferta
                        </button>
                    </div>
                </div>

                <!-- Agregar más solicitudes según necesites -->
            </div>
        </div>
    </main>

    <!-- JavaScript para control del panel lateral -->
    <script>
        // Selector del botón de toggle del aside
        const openBtn = document.getElementById('openSidebarBtn');
        const closeBtn = document.getElementById('closeSidebarBtn');
        const sidebar = document.querySelector('aside');

        // Evento para mostrar el aside
        openBtn.addEventListener('click', function () {
            sidebar.classList.remove('-translate-x-full');
            openBtn.classList.add('hidden');
        });

        // Evento para ocultar el aside
        closeBtn.addEventListener('click', function () {
            sidebar.classList.add('-translate-x-full');
            openBtn.classList.remove('hidden');
        });

        // Asegurar que el aside esté visible al cargar la página
        sidebar.classList.remove('-translate-x-full');

        // Función para manejar la contraoferta
        function handleCounterOffer(service) {
            Swal.fire({
                title: 'Proponer Contraoferta',
                text: `Proponer un nuevo monto para el servicio de ${service}`,
                input: 'number',
                inputAttributes: {
                    min: 1,
                    step: 0.01
                },
                showCancelButton: true,
                confirmButtonText: 'Enviar',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    const newAmount = result.value;
                    Swal.fire('Contraoferta Enviada', `Has propuesto un nuevo monto de $${newAmount} para el servicio de ${service}.`, 'success');
                }
            });
        }
    </script>

</body>

</html>
